{
    "swagger":"2.0",
    "info":{
        "version":"1.0.0",
        "title":"Forum",
        "description":"Node Express API demo",
        "licence":{
            "name":"MIT",
            "url":"https://opensource.org/licenses/MIT"
        }
    },
    "host":"localhost:3000",
    "basePath":"/",
    "tags":[
        {
            "name":"user",
            "description":"Create new account & login"  
        },
        {
            "name":"post",
            "description":"User can create post"
        },
        {
            "name":"comment",
            "description":"Any user can add comment in post"
        },
        {
          "name":"admin",
          "description":"create new admin"
        }
    ],
    "securityDefinitions":{
        "jwt":{
            "type":"apiKey",
            "in":"hedaer",
            "name":"Authorization"
        }
    },
    "security":[
        {
            "jwt":[]
        }
    ],
    "consumes":[
        "application/json"
    ],
    "produces":[
        "application/json"
    ],
    "paths":{
        "/user":{
            "post":{
                "tags":[
                    "user"
                ],
                "summary":"Create New User",
                "parameters":[
                    {
                        "name":"user",
                        "in":"body",
                        "required":true,
                        "description":"Create new user",
                        "schema":{
                            "$ref":"#/definitions/User"
                        }
                    }
                ],
                "produces":[
                    "application/json"
                ],
                "responses":{
                    "201":{
                        "description":"New User created",
                        "schema":{
                            "$ref":"#/definitions/User"
                        }
                    }
                }
            }
        },
        "/user/login":{      
          "post":{
            "tags":[
              "user"
            ],
            "summary":"Login with credentials",
            "parameters":[
              {
                "name":"user",
                "in":"body",
                "required":true,
                "description":"Login",
                "schema":{
                  "$ref":"#/definitions/User"
                }
              }
            ],
            "produces":[
              "application/json"
            ],
            "responses":{
              "200":{
                "description":"Login Successful",
                "schema":{
                  "$ref":"#/definitions/User"
                }
              }
            }
          }
        },
        "/user/admin":{
          "post":{
            "tags":[
              "admin"
            ],
            "summary":"Assign admin role to user",
            "parameters":[
              {
                "name":"user",
                "in":"body",
                "required":true,
                "description":"Enter User ID",
                "schema":{
                  "required":[
                    "user"
                  ],  
                  "properties":{
                    "user":{
                      "type":"string"
                    }
                  }
                }
              }
            ],
            "produces":[
              "application/json"
            ],
            "responses":{
              "201":{
                "description":"Admin Role assigned",
                "type":"string"
              }
            }
          }
        },
        "/post":{
          "get":{
            "tags":[
              "post"
            ],
            "summary":[
              "Show posts"
            ],
            "parameters":[
              {
                "name":"fetch",
                "in":"query",
                "required":false,
                "description":"write 'me' for see your posts , write 'other' for see other users post",
                "schema":{
                  "$ref":"#/definitions/Post"
                }
              }
            ],
            "produces":[
              "application/json"
            ],
            "responses":{
              "200":{
                "description":"OK",
                "items":{
                  "allOf":[
                    {
                      "$ref":"#/definitions/Post"
                    }
                  ]
                }
              }
            }
          },
          "post":{
            "tags":[
              "post"
            ],
            "summary":"Create new post",
            "parameters":[
              {
                "name":"post",
                "in":"body",
                "required":true,
                "description":"Create new post",
                "schema":{
                  "$ref":"#/definitions/Post"
                }
              }
            ],
            "produces":[
              "application/json"
            ],
            "responses":{
              "201":{
                "description":"Post created",
                "schema":{
                  "$ref":"#/definitions/Post"
                }
              }
            }
          }          
        },
        "/post/{Id}":{
          "parameters":[
            {
              "name":"Id",
              "in":"path",
              "required":true,
              "description":"ID of post",
              "type":"string"
            }
          ],

          "get":{
            "tags":[
              "post"
            ],
            "summary":"Find specific post",
            "responses":{
              "200":{
                "description":"OK"
              }
            }
          },
          "put":{
            "tags":[
              "post"
            ],
            "summary":"Update particular post",
            "parameters":[
              {
                "name":"post",
                "in":"body",
                "desciption":"Update particular post",
                "schema":{
                  "$ref":"#/definitions/Post"
                }
              }
            ],
            "produces":[
              "application/json"
            ],
            "responses":{
              "200":{
                "description":"Update Complete"
              }
            }
          },
          "delete":{
            "tags":[
              "post"
            ],
            "summary":"Delete particular post",
            "produces":[
              "application/json"
            ],
            "responses":{
              "200":{
                "description":"Record Deleted"
              }
            }
          }
        },
        "/post/{Id}/comment":{
          "parameters":[
            {
              "name":"Id",
              "in":"path",
              "required":true,
              "description":"Id of post",
              "type":"string"
            }
          ],
          "get":{
            "tags":[
              "post"
            ],
            "summary":"Show comment post",
            "responses":{
              "200":{
                "description":"OK"
              }
            }
          },
          "post":{
            "tags":[
              "post"
            ],
            "summary":"create comment on post",
            "parameters":[
              {
                "name":"comment",
                "desciption":"Enter comment",
                "in":"body",
                "required":true,
                "schema":{
                  "required":[
                    "comment"
                  ],  
                  "properties":{
                    "comment":{
                      "type":"string"
                    }
                  }
                }
              }
            ],
            "responses":{
              "200":{
                "description":"OK"
              }
            }
          }
        },
        "/comment/{Id}":{
          "parameters":[
            {
              "name":"Id",
              "in":"path",
              "required":true,
              "description":"Id of post",
              "type":"string"
            }
          ],

          "delete":{
            "tags":[
              "comment"
            ],
            "summary":"Delete comment",
            "responses":{
              "200":{
                "description":"OK"
              }
            }
          }
        }
    },
    "definitions":{
        "User":{
            "required":[
                "email",
                "password",
                "name"
            ],
            "properties":{
                "email":{
                    "type":"string"
                },
                "password":{
                    "type":"string" 
                }
            }
        },
        "Post":{
          "required":[
            "title",
            "description"
          ],
          "properties":{
            "title":{
              "type":"string"
            },
            "description":{
              "type":"string"
            }
          }
        }
    }
}